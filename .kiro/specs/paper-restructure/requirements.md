# 需求文档

## 简介

本文档定义了将现有因果发现论文重整为顶刊格式的需求规范。目标是将论文结构规范化、实验部分逻辑清晰化、表述方式专业化（减少列点、增加表格和图表）。当前论文研究的是"盲因果发现：基于大语言模型统计推理的保守混合方法"，需要按照顶级期刊（如JMLR、TPAMI、Nature Machine Intelligence等）的标准进行重整。

## 术语表

- **SHD (结构汉明距离)**: 衡量预测图与真实图之间的编辑距离
- **ACR (抽象因果推理)**: 本文提出的核心框架
- **PC算法**: 基于约束的经典因果发现算法
- **HSIC (希尔伯特-施密特独立性准则)**: 非线性独立性检验方法
- **ANM (加性噪声模型)**: 因果方向识别的理论基础
- **MEC (马尔可夫等价类)**: 观测数据无法区分的因果图集合
- **StatTranslator (统计翻译器)**: 将数值特征转化为自然语言叙事的模块
- **盲设定**: 变量名被匿名化、无语义信息的实验条件
- **SOTA**: 当前最优方法

## 现有实验清单

当前论文包含以下实验：

### 实验设置
- 合成数据集：5类（LiNGAM、ANM、Reverse、Independent、Confounder）
- 真实网络：8个（Sprinkler、Asia、Sachs、Child、Insurance、Alarm、Hailfinder、Hepar II）
- 评估指标：SHD、骨架F1、定向准确率
- 基线方法：PC、HillClimb、Random

### 现有实验
1. **合成数据实验** - 验证ACR引擎的微观推理能力（表1）
2. **真实网络完整流水线性能** - 8个网络的SHD比较（表2、图2）
3. **保守策略有效性** - Alarm网络上保守混合vs全量混合（表3）
4. **消融研究** - StatTranslator的贡献（图3）
5. **与SOTA LLM方法对比** - ACR-Hybrid vs PromptBN/ReActBN/DiBS+GPT（表4、图5）
6. **大规模网络可扩展性** - Hailfinder和Hepar II分析
7. **E-SHD对比** - 与贝叶斯方法DiBS+GPT对比
8. **低样本量鲁棒性** - Asia网络不同样本量测试（表5）
9. **基座算法对比** - PC+ACR vs MMHC+ACR

## 需求列表

### 需求1：论文结构规范化

**用户故事：** 作为研究者，我希望论文结构符合顶刊规范，以便论文达到发表标准且易于阅读。

#### 验收标准

1. 当组织论文时，论文结构应遵循标准顶刊格式：摘要 → 引言 → 相关工作 → 方法论 → 实验 → 讨论 → 结论 → 附录
2. 当组织章节时，论文应使用一致的标题层级，最多三级（节、小节、子小节）
3. 当撰写引言时，引言部分应包含清晰的问题陈述、研究动机、主要贡献（编号列出）和论文组织，使用流畅的段落而非列点
4. 当撰写相关工作时，相关工作部分应将先前工作组织成连贯的主题段落，并清晰定位本文工作
5. 当撰写方法论时，方法论部分应使用正式定义、算法和数学符号呈现框架，符合期刊规范

### 需求2：实验部分逻辑重组

**用户故事：** 作为审稿人，我希望实验部分有清晰的逻辑流程，以便理解实验设计并评估论文声明。

#### 验收标准

1. 当组织实验时，实验部分应按以下逻辑重组现有10个实验：
   - 4.1 实验设置（数据集、指标、基线、实现细节）
   - 4.2 主要结果（合成数据 + 真实网络完整流水线）
   - 4.3 核心发现：统计推理超越语义记忆（与SOTA对比 + E-SHD对比）
   - 4.4 方法分析（保守策略有效性 + 消融研究）
   - 4.5 扩展分析（大规模网络 + 低样本量 + 基座算法）
2. 当呈现实验设置时，论文应将所有数据集、指标、基线和实现细节整合到一个连贯的小节中，使用表格而非列点
3. 当呈现主要结果时，结果应按研究问题组织，而非按数据集罗列
4. 当呈现结果时，论文应使用表格作为定量比较的主要格式，使用图表展示趋势和可视化
5. 当进行全面比较时，论文应包含覆盖全部8个网络的综合比较表

### 需求3：表格设计与整合

**用户故事：** 作为读者，我希望有综合性表格整合实验结果，以便快速比较不同设置下的方法性能。

#### 验收标准

1. 当呈现主要结果时，论文应包含一个主结果表，比较ACR-Hybrid与基线方法（PC、HillClimb、Random）在全部8个基准网络上的表现，包含SHD和准确率
2. 当与SOTA对比时，论文应包含一个SOTA对比表，展示ACR-Hybrid（统计推理）与PromptBN、ReActBN、DiBS+GPT（语义记忆）的比较及提升百分比，并解释语义方法在复杂网络上失效的原因
3. 当表格超过6列时，论文应使用适当的格式（如多行、列分组）保持可读性
4. 当呈现消融和扩展分析时，论文应使用专门的表格而非内联文本，整合保守策略、低样本量、基座算法等结果

### 需求4：图表优化

**用户故事：** 作为读者，我希望有清晰且信息丰富的图表，以便直观理解方法和结果。

#### 验收标准

1. 当展示方法时，论文应包含一个框架概览图（fig4），展示两阶段流水线并有清晰标注
2. 当解释原理时，论文应包含一个机制说明图（fig1），用残差图演示ANM原理
3. 当比较性能时，论文应包含一个性能对比柱状图（fig2），展示各网络的SHD
4. 当进行消融研究时，论文应包含一个消融研究图（fig3），比较完整ACR、原始数据和随机猜测
5. 当突出核心发现时，论文应包含一个统计推理vs语义记忆对比图（fig5），突出关键发现：统计推理在复杂网络上更可靠、更可泛化

### 需求5：文本表述专业化

**用户故事：** 作为期刊编辑，我希望论文使用专业的学术散文，以便达到发表质量标准。

#### 验收标准

1. 当撰写正文时，论文应将所有列点列表替换为流畅的段落，特别是实验设置中的数据集描述和基线方法描述
2. 当在引言中呈现贡献时，论文应在段落语境中使用编号项，而非独立的列点
3. 当撰写全文时，论文应使用正式的学术语言，避免口语化表达
4. 当描述实验结果时，论文应将定量发现融入散文中，并提供适当的统计背景
5. 当使用术语时，论文应保持全文术语一致（如始终使用"ACR-Hybrid"而非交替使用"我们的方法"或"所提方法"）

### 需求6：实验数据完整性

**用户故事：** 作为研究者，我希望所有实验数据准确反映在论文中，以便结果可复现且可信。

#### 验收标准

1. 当报告结果时，论文应报告全部8个基准网络的完整指标（SHD、准确率等）
2. 当报告SHD值时，论文应使用实验结果中的精确值：
   - Asia: SHD=5, 准确率=62.5%
   - Sprinkler: SHD=3, 准确率=50%
   - Alarm: SHD=8, 准确率=89.1%
   - Sachs: SHD=4, 准确率=82.4%
   - Child: SHD=6, 准确率=76%
   - Insurance: SHD=9, 准确率=82.7%
   - Hailfinder: SHD=40, 准确率=39.4%
   - Hepar II: SHD=17, 准确率=86.2%
3. 当报告基线结果时，论文应包含PC、HillClimb、Random的完整SHD数据
4. 当与SOTA方法对比时，论文应清楚标明哪些结果来自原始论文、哪些是复现结果

### 需求7：讨论与结论精炼

**用户故事：** 作为读者，我希望讨论和结论部分简洁有力，以便理解工作的意义和局限性。

#### 验收标准

1. 当撰写讨论时，讨论部分应聚焦三个关键方面：机制分析（为什么LLM能进行统计推理）、实际意义（成本效益、隐私保护）和局限性
2. 当撰写讨论时，讨论部分不应重复实验结果，而应提供更深入的分析
3. 当撰写结论时，结论部分应用一个段落总结贡献，随后是未来方向
4. 当讨论局限性时，论文应具体且诚实地说明失败案例：
   - Sprinkler网络：PC已达到SHD=0，ACR反而引入错误
   - Hailfinder网络：60%的边被判断为Unclear，准确率仅39.4%
   - 混淆因子：无法区分直接因果和混淆
5. 当结束论文时，论文应以对领域更广泛影响的清晰陈述结尾

### 需求8：附录规范化

**用户故事：** 作为审稿人，我希望补充材料组织良好，以便在不干扰正文的情况下验证技术细节。

#### 验收标准

1. 当提供补充材料时，附录应包含用于LLM查询的完整提示词模板
2. 当提供详细结果时，附录应包含代表性网络（如Alarm、Hepar II）的逐边预测结果
3. 当主文篇幅有限时，附录应包含未在正文中呈现的额外分析（如各网络的详细准确率分解）
4. 当正文引用补充材料时，论文应使用一致的交叉引用（如"见附录A"）
5. 当组织附录时，附录应使用清晰的节标签（A、B、C等）
